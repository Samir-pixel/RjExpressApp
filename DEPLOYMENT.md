# üöÄ Deployment Guide - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

–ü–µ—Ä–µ–¥ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ–º –Ω–∞ –¥–æ–º–µ–Ω–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤.

## üéØ –í–∞—Ä–∏–∞–Ω—Ç—ã —Ö–æ—Å—Ç–∏–Ω–≥–∞

### 1. **VPS (Virtual Private Server)** - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
**–ü–ª—é—Å—ã:**
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- –î–µ—à–µ–≤–ª–µ —á–µ–º –æ–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- Docker —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –ì–∏–±–∫–æ—Å—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:**
- **DigitalOcean** ($6/–º–µ—Å) - https://digitalocean.com
- **Linode** ($5/–º–µ—Å) - https://linode.com
- **Vultr** ($6/–º–µ—Å) - https://vultr.com
- **Hetzner** (‚Ç¨4/–º–µ—Å) - https://hetzner.com

### 2. **–û–±–ª–∞—á–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**
- **Railway** - https://railway.app (–ø—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π)
- **Fly.io** - https://fly.io
- **Render** - https://render.com

### 3. **–û—Ç–¥–µ–ª—å–Ω—ã–π —Ö–æ—Å—Ç–∏–Ω–≥ –¥–ª—è frontend/backend**
- **Frontend:** Vercel, Netlify (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Backend:** Railway, Fly.io, DigitalOcean App Platform

## üõ†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ü–ï–†–ï–î –¥–µ–ø–ª–æ–µ–º

### ‚úÖ –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç—å CORS –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞

CORS —Å–µ–π—á–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `["*"]` - —ç—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è production. –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤–∞—à –¥–æ–º–µ–Ω.

### ‚úÖ –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í production –Ω—É–∂–Ω—ã:
- `TELEGRAM_BOT_TOKEN` - —É–∂–µ –µ—Å—Ç—å
- `TELEGRAM_CHAT_ID` - —É–∂–µ –µ—Å—Ç—å
- `BACKEND_URL` - URL –≤–∞—à–µ–≥–æ backend (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://api.yourdomain.com`)
- `NEXT_PUBLIC_BACKEND_URL` - URL –¥–ª—è frontend

### ‚úÖ –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (HTTPS)

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è:
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –†–∞–±–æ—Ç—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö API
- SEO

**–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- **Let's Encrypt** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ certbot)
- **Cloudflare** (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL + CDN)

### ‚úÖ –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Reverse Proxy (Nginx)

–ù—É–∂–µ–Ω –¥–ª—è:
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- SSL —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üì¶ –í–∞—Ä–∏–∞–Ω—Ç 1: –î–µ–ø–ª–æ–π –Ω–∞ VPS —Å Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- VPS —Å Ubuntu 22.04 –∏–ª–∏ Debian 12
- –ú–∏–Ω–∏–º—É–º 1GB RAM, 1 CPU, 25GB SSD
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

#### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@your_server_ip
```

#### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
apt install docker-compose-plugin -y

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker --version
docker compose version
```

#### 3. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
cd /opt
git clone https://github.com/Samir-pixel/RjExpressApp.git
cd RjExpressApp
```

#### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–°–æ–∑–¥–∞–π—Ç–µ `.env.production` —Ñ–∞–π–ª —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

#### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ docker-compose

```bash
docker compose -f docker-compose.prod.yml up -d --build
```

#### 6. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx

–°–º. —Ñ–∞–π–ª `nginx.conf` –≤ –ø—Ä–æ–µ–∫—Ç–µ.

#### 7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —á–µ—Ä–µ–∑ Let's Encrypt

```bash
apt install certbot python3-certbot-nginx -y
certbot --nginx -d yourdomain.com -d www.yourdomain.com
```

## üì¶ –í–∞—Ä–∏–∞–Ω—Ç 2: –î–µ–ø–ª–æ–π –Ω–∞ Vercel (Frontend) + Railway (Backend)

### Frontend –Ω–∞ Vercel:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://vercel.com
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –£–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É `frontend`
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `NEXT_PUBLIC_BACKEND_URL=https://your-backend-url.railway.app`
5. –î–µ–ø–ª–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π

### Backend –Ω–∞ Railway:
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
2. New Project ‚Üí Deploy from GitHub
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –£–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É `backend`
5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env`
6. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç URL

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞:
- –í Vercel: Settings ‚Üí Domains ‚Üí Add domain
- –í Railway: Settings ‚Üí Networking ‚Üí Custom Domain

## üìù Production Checklist

- [ ] –û–±–Ω–æ–≤–ª–µ–Ω CORS –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–æ–º–µ–Ω
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (HTTPS)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω reverse proxy (Nginx)
- [ ] –î–æ–º–µ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É (DNS)
- [ ] Backend URL –æ–±–Ω–æ–≤–ª–µ–Ω –≤ frontend
- [ ] Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–∫–∏

## üîß –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull
docker compose up -d --build
```

## üìû –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ?

1. **–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç —Ö–æ—Å—Ç–∏–Ω–≥–∞** (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é VPS)
2. **–°–∫–∞–∂–∏—Ç–µ –º–Ω–µ –≤–∞—à –¥–æ–º–µ–Ω** - —è –æ–±–Ω–æ–≤–ª—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. **–Ø —Å–æ–∑–¥–∞–º production —Ñ–∞–π–ª—ã** —Å –≤–∞—à–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –±—É–¥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ö–æ—Å—Ç–∏–Ω–≥–∞.

